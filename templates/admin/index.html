{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrahead %}
    {{ block.super }}
    <style>
        .dashboard {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .dashboard h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 25px;
            border-radius: 8px;
            margin: 0 0 25px 0;
            font-size: 24px;
            font-weight: 600;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .app-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .app-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-left: 4px solid;
        }
        
        .app-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }
        
        .app-card.users {
            border-left-color: #dc3545;
        }
        
        .app-card.objects {
            border-left-color: #28a745;
        }
        
        .app-card.prescriptions {
            border-left-color: #dc3545;
        }
        
        .app-card.deliveries {
            border-left-color: #ffc107;
        }
        
        .app-card.work-plans {
            border-left-color: #17a2b8;
        }
        
        .app-card.logs {
            border-left-color: #6c757d;
        }
        
        .app-card h2 {
            margin: 0 0 15px 0;
            font-size: 18px;
            font-weight: 600;
            color: #495057;
        }
        
        .model-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .model-list li {
            margin: 8px 0;
        }
        
        .model-list a {
            display: block;
            padding: 10px 15px;
            background: #f8f9fa;
            border-radius: 6px;
            text-decoration: none;
            color: #495057;
            font-weight: 500;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        
        .model-list a:hover {
            background: #e9ecef;
            border-left-color: #007bff;
            transform: translateX(5px);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #6c757d;
            font-weight: 500;
        }
        
        .stat-card.users .stat-number { color: #dc3545; }
        .stat-card.objects .stat-number { color: #28a745; }
        .stat-card.prescriptions .stat-number { color: #dc3545; }
        .stat-card.deliveries .stat-number { color: #ffc107; }
        .stat-card.logs .stat-number { color: #6c757d; }
    </style>
{% endblock %}

{% block content %}
<div class="dashboard">
    <h1>üèóÔ∏è –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π</h1>
    
    <div class="stats-grid">
        <div class="stat-card users">
            <div class="stat-number">{{ user_count|default:"‚Äî" }}</div>
            <div class="stat-label">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
        </div>
        <div class="stat-card objects">
            <div class="stat-number">{{ object_count|default:"‚Äî" }}</div>
            <div class="stat-label">üèóÔ∏è –û–±—ä–µ–∫—Ç–æ–≤</div>
        </div>
        <div class="stat-card prescriptions">
            <div class="stat-number">{{ prescription_count|default:"‚Äî" }}</div>
            <div class="stat-label">‚ö†Ô∏è –ù–∞—Ä—É—à–µ–Ω–∏–π</div>
        </div>
        <div class="stat-card deliveries">
            <div class="stat-number">{{ delivery_count|default:"‚Äî" }}</div>
            <div class="stat-label">üöö –ü–æ—Å—Ç–∞–≤–æ–∫</div>
        </div>
        <div class="stat-card logs">
            <div class="stat-number">{{ log_count|default:"‚Äî" }}</div>
            <div class="stat-label">üìù –õ–æ–≥–æ–≤</div>
        </div>
    </div>
    
    <div class="app-list">
        <div class="app-card users">
            <h2>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
            <ul class="model-list">
                <li><a href="{% url 'admin:api_user_changelist' %}">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a></li>
                <li><a href="{% url 'admin:api_refreshtoken_changelist' %}">üîë –¢–æ–∫–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</a></li>
                <li><a href="{% url 'admin:api_invitation_changelist' %}">üìß –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</a></li>
            </ul>
        </div>
        
        <div class="app-card objects">
            <h2>üèóÔ∏è –û–±—ä–µ–∫—Ç—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞</h2>
            <ul class="model-list">
                <li><a href="{% url 'admin:api_constructionobject_changelist' %}">üèóÔ∏è –û–±—ä–µ–∫—Ç—ã</a></li>
                <li><a href="{% url 'admin:api_objectactivation_changelist' %}">‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏–∏</a></li>
                <li><a href="{% url 'admin:api_objectroleaudit_changelist' %}">üìã –ê—É–¥–∏—Ç —Ä–æ–ª–µ–π</a></li>
            </ul>
        </div>
        
        <div class="app-card prescriptions">
            <h2>‚ö†Ô∏è –ù–∞—Ä—É—à–µ–Ω–∏—è</h2>
            <ul class="model-list">
                <li><a href="{% url 'admin:api_prescription_changelist' %}">‚ö†Ô∏è –ù–∞—Ä—É—à–µ–Ω–∏—è</a></li>
                <li><a href="{% url 'admin:api_prescriptionfix_changelist' %}">üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a></li>
            </ul>
        </div>
        
        <div class="app-card deliveries">
            <h2>üöö –ü–æ—Å—Ç–∞–≤–∫–∏</h2>
            <ul class="model-list">
                <li><a href="{% url 'admin:api_delivery_changelist' %}">üöö –ü–æ—Å—Ç–∞–≤–∫–∏</a></li>
                <li><a href="{% url 'admin:api_invoice_changelist' %}">üìÑ –ù–∞–∫–ª–∞–¥–Ω—ã–µ</a></li>
                <li><a href="{% url 'admin:api_material_changelist' %}">üì¶ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a></li>
                <li><a href="{% url 'admin:api_laborder_changelist' %}">üß™ –ó–∞–∫–∞–∑—ã –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏</a></li>
            </ul>
        </div>
        
        <div class="app-card work-plans">
            <h2>üìã –ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç</h2>
            <ul class="model-list">
                <li><a href="{% url 'admin:api_workplan_changelist' %}">üìã –ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç</a></li>
                <li><a href="{% url 'admin:api_workitem_changelist' %}">üî® –†–∞–±–æ—Ç—ã</a></li>
                <li><a href="{% url 'admin:api_scheduleitem_changelist' %}">üìÖ –≠–ª–µ–º–µ–Ω—Ç—ã –≥—Ä–∞—Ñ–∏–∫–∞</a></li>
            </ul>
        </div>
        
        <div class="app-card logs">
            <h2>üìù –°–∏—Å—Ç–µ–º–∞</h2>
            <ul class="model-list">
                <li><a href="{% url 'admin:api_log_changelist' %}">üìù –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã</a></li>
                <li><a href="{% url 'admin:api_area_changelist' %}">üó∫Ô∏è –û–±–ª–∞—Å—Ç–∏/–ø–æ–ª–∏–≥–æ–Ω—ã</a></li>
                <li><a href="{% url 'admin:api_dailychecklist_changelist' %}">üìã –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã</a></li>
                <li><a href="{% url 'admin:api_work_changelist' %}">üî® –†–∞–±–æ—Ç—ã/–∑–∞–¥–∞—á–∏</a></li>
                <li><a href="{% url 'admin:api_memo_changelist' %}">üìù –ú–µ–º–æ</a></li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
